<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./styles/reset.css">
</head>
<body>
<style>
.gnb_contain {
  position: fixed;
  background: transparent;
  transition: all .3s ease-in;
}
.lnb_wrap {
    transition: all .3s cubic-bezier(0.8, 0.44, 0.36, 1.22);
    max-height: 0;
    border: 1px solid tan;
    overflow: hidden;
    display: flex;
}
.lnb {
    padding: 1rem;
}
</style>
<section class="gnb_contain">
<div class="gnb">
    <div class="gnb_btn">
        <button>GNB</button>
        <button>GNB</button>
    </div>
    <div class="lnb_wrap">
        <p class="lnb"><a href="">aaa</a></p>
        <p class="lnb"><a href="">bbb</a></p>
        <p class="lnb"><a href="">ccc</a></p>
    </div>
</div>
</section>

<style>
    .snb_inner {position: relative;}
    .tab_slide {
        transition: all .3s ease-in;
        position: absolute; z-index: -1; left: 0;
        height: 20px;
        background: red;
        }
        .hide {display: none;}
</style>

<section style="height: 100px; background:#eee;"></section>
<section class="snb_contain">
<div class="snb_inner">
    <div class="tab_slide"></div>
    <div class="tab_btn_wrap">
        <button class="tab_btn">SNB</button>
        <button class="tab_btn">SNB</button>
        <button class="tab_btn">SNB</button>
    </div>
</div>

<div class="tab_content_wrap">
    <div class="tab_content">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellendus doloribus, dolorem earum reprehenderit quisquam natus vel consectetur rem. Repellendus itaque vel rem veniam beatae obcaecati, amet nostrum ex officia dolorum animi eveniet, labore minima, accusantium est consequuntur? Placeat, cupiditate quia voluptate in similique alias nam harum doloremque cumque? Hic dolore accusamus amet aut dolor error eos molestias, enim, ut provident. Cum unde, laboriosam aspernatur quos, voluptate tempora ex error animi consectetur, quia odit? Quas repudiandae iste sunt fugit a omnis nihil ea quibusdam repellat laudantium fugiat accusantium inventore similique, sint culpa necessitatibus quis assumenda dolor accusamus officiis, numquam. Sint vitae cupiditate veniam cumque nulla id maxime consectetur reprehenderit blanditiis dicta natus labore debitis aut iure optio fugit beatae ullam hic, minus perspiciatis inventore excepturi eveniet voluptas! Nam omnis rerum, accusamus illum quibusdam animi voluptates aspernatur at repellat laboriosam saepe nostrum reiciendis explicabo. Illum cumque quaerat quod tempora deleniti dolor, quidem quis a! Similique facere laborum laboriosam eligendi perferendis officia voluptatibus, cum deserunt autem accusantium amet explicabo ipsa! Dolor laudantium, atque quaerat molestiae quas vitae repellat dolore neque iusto est autem eaque ratione, optio vero. Eos ducimus mollitia eligendi impedit. Alias modi iure tempora facilis aperiam. Amet architecto nostrum dolorem. Molestiae debitis minima, ipsum excepturi ipsa numquam eveniet ut, alias veniam cupiditate. Laborum voluptatum nobis voluptatem vel culpa aut officia dolor esse assumenda quibusdam officiis, molestiae expedita eos ipsa porro tempore ipsum tempora id ullam eius perferendis, ratione sit libero reiciendis. Quos alias omnis possimus beatae vero harum rerum earum similique laborum fugit. Vel, rem officiis. Odio reiciendis vel vero unde adipisci voluptatem sit dicta deserunt laudantium, blanditiis laborum ducimus, rem cum nam placeat fugiat, animi magnam temporibus fugit veritatis earum sint porro. Quam animi corporis dolorum, dolore aperiam magni vitae recusandae libero ullam amet! Velit provident aliquam repellendus, autem reiciendis, molestias magni, molestiae quasi aperiam nostrum accusantium ad dolores, excepturi fugit quaerat debitis facere quidem ab quis libero eligendi natus. Eos repellat ab laudantium nihil aliquid reiciendis, placeat quis maxime modi fugiat tempore cumque, id amet eveniet veritatis consequuntur possimus esse enim ducimus distinctio ipsum, vero at blanditiis quasi quia. Quam, cum, animi? Veniam ipsum natus possimus recusandae nam quaerat perferendis ducimus vero. Iste recusandae aut adipisci, rerum laboriosam iure unde quis repudiandae maxime aliquam, omnis! Eligendi quos ducimus unde sapiente! Debitis non porro hic sit pariatur maxime nostrum quam earum, reiciendis numquam ut illum quo. Ab ullam consequuntur, sint beatae eaque eius. Delectus doloribus tenetur illum velit alias. Consequatur quos, officiis omnis tempora beatae labore repellendus veniam suscipit repudiandae veritatis, placeat expedita earum non rerum nihil nam assumenda dolor ratione, sequi consectetur at unde fugiat atque fugit! Accusamus natus fugit neque placeat sequi. Laboriosam commodi quod sunt ex, ab autem obcaecati ipsa quisquam, nisi voluptas eius consequatur ratione. Vero recusandae voluptates, laboriosam nesciunt reiciendis nostrum fugit amet sequi! Id sunt, dignissimos consequuntur ducimus mollitia delectus sequi provident, officia voluptatum, assumenda odio maiores est itaque incidunt nihil fugiat magnam ipsum nemo iure eius perspiciatis nesciunt. Rem harum, dolor amet porro optio magnam neque totam cupiditate vero, libero ipsam earum commodi. Fuga facilis reprehenderit corporis assumenda, a, ipsum repellat nisi eligendi recusandae? Nesciunt quasi consequuntur iciendis ducimus harum praesentium in, eos quis. Quisquam velit delectus voluptatum necessitatibus nisi accusantium sit. Quisquam culpa molestiae officiis ipsa porro doloribus, a, voluptate provident suscipit saepe at amet. Ex saepe qui adipisci numquam dicta quia vitae ratione unde repellat sit doloribus quos culpa, iusto cumque rerum laborum, corporis eligendi impedit omnis cum dolorum in officiis consectetur. Officia iste sequi quia doloribus fugit beatae qui sit autem, assumenda fuga, saepe officiis, exercitationem accusamus architecto temporibus voluptatibus iusto. Neque quaerat, dolor architecto asperiores corrupti! Nulla doloribus incidunt culpa praesentium, officiis fuga soluta itaque eos illo aspernatur facere obcaecati sequi voluptate harum, autem est beatae hic, accusantium at. Animi perferendis at, unde. Debitis expedita error dolores sapiente delectus cupiditate fugit porro pariatur molestiae tempora dolorum officiis itaque aperiam, atque quae similique sit velit officia amet accusamus architecto. Expedita hic impedit adipisci laborum sunt omnis, tenetur sit!
    </div>
    <div class="tab_content">
        Lorem ipsum dolor sit amet.
    </div>
    <div class="tab_content">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit.
    </div>
</div>
<style>
.bottom_tab {position: fixed; bottom: -50px; width: 100%; background: red; transition: all .3s ease-in;}
</style>
<div class="bottom_tab">sdsdf</div>
</section>

<script>
let gnb = document.querySelectorAll('.gnb');
let lnbWrap = document.querySelector('.lnb_wrap');
let lnb = document.querySelector('.lnb');

function toggleGnb() {
    lnbWrap.style.maxHeight ?
    lnbWrap.style.maxHeight = null :
    lnbWrap.style.maxHeight = lnbWrap.scrollHeight + 'px' ;
}
for(let i=0; i<gnb.length; i++) {
    gnb[i].addEventListener('mouseover', () => {toggleGnb()})
    gnb[i].addEventListener('mouseout', () => {toggleGnb()})
}

let tabContent = document.querySelectorAll('.tab_content');
let tabBtn = document.querySelectorAll('.tab_btn');

function tabSlideShow(num) {
    let tabSlide = document.querySelector('.tab_slide');
    const newLeft = tabBtn[num].offsetLeft;
    const newWidth = tabBtn[num].offsetWidth;
    tabSlide.style.left = newLeft + 'px';
    tabSlide.style.width = newWidth + 'px';
}
contentShow(0);

function contentShow(num) {
    tabContent.forEach(element => {
        element.classList.add('hide');
    });
    tabContent[num].classList.remove('hide');
}

tabBtn.forEach((item,idx) => {
    item.addEventListener('click', ()=>{
        contentShow(idx);
        tabSlideShow(idx);
    })
});
let tabSlide = document.querySelector('.tab_slide');
let tabBtnFirst = document.querySelector('.tab_btn:first-child');
const newWidth = tabBtnFirst.offsetWidth;
tabSlide.style.width = newWidth + 'px';

let bottomTab = document.querySelector('.bottom_tab');

window.addEventListener('scroll', function(){
  if(window.pageYOffset > 150) {
    bottomTab.style.bottom="0px";
  } else {
    bottomTab.style.bottom="-50px";
  }

  if(window.pageYOffset > 0) {
    gnbContain.style.background="#fff";
  } else {
    gnbContain.style.background="transparent";
  }
})

let gnbContain = document.querySelector('.gnb_contain');


</script>
</body>
</html>
