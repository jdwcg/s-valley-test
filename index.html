<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="./styles/common.css"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./styles/reset.css">
</head>
<body>
<style>
.lnb_wrap {
    transition: all .3s cubic-bezier(0.8, 0.44, 0.36, 1.22);
    max-height: 0;
    border: 1px solid tan;
    overflow: hidden;
    display: flex;
}
.lnb {
    padding: 1rem;
}
</style>
<section class="gnb_contain">
<div class="gnb">
    <div class="gnb_btn">
        <button>GNB</button>
        <button>GNB</button>
    </div>
    <div class="lnb_wrap">
        <p class="lnb"><a href="">aaa</a></p>
        <p class="lnb"><a href="">bbb</a></p>
        <p class="lnb"><a href="">ccc</a></p>
    </div>
</div>
</section>

<style>
    .snb_inner {position: relative;}
    .tab_slide {
        transition: all .3s ease-in;
        position: absolute; z-index: -1;
        height: 10px;
        background: #aaa;
        }
        .hide {display: none;}
</style>

<section class="snb_contain">
<div class="snb_inner">
    <div class="tab_slide"></div>
    <div class="tab_btn_wrap">
        <button class="tab_btn">SNB</button>
        <button class="tab_btn">SNB</button>
        <button class="tab_btn">SNB</button>
    </div>
</div>

<div class="tab_content_wrap">
    <div class="tab_content">
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Numquam, asperiores.
    </div>
    <div class="tab_content">
        Lorem ipsum dolor sit amet.
    </div>
    <div class="tab_content">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit.
    </div>
</div>
</section>


<script>
let gnb = document.querySelectorAll('.gnb');
let lnbWrap = document.querySelector('.lnb_wrap');
let lnb = document.querySelector('.lnb');

function toggleGnb() {
    lnbWrap.style.maxHeight ?
    lnbWrap.style.maxHeight = null :
    lnbWrap.style.maxHeight = lnbWrap.scrollHeight + 'px' ;
}
for(let i=0; i<gnb.length; i++) {
    gnb[i].addEventListener('mouseover', ()=>{toggleGnb()})
    gnb[i].addEventListener('mouseout', ()=>{toggleGnb()})
}

let tabContent = document.querySelectorAll('.tab_content');
let tabBtn = document.querySelectorAll('.tab_btn');

function tabSlideShow(num) {
    let tabSlide = document.querySelector('.tab_slide');
    const newLeft = tabBtn[num].offsetLeft;
    const newWidth = tabBtn[num].offsetWidth;
    tabSlide.style.left = newLeft + 'px';
    tabSlide.style.width = newWidth + 'px';
}
contentShow(0);

function contentShow(num) {
    tabContent.forEach(element => {
        element.classList.add('hide');
    });
    tabContent[num].classList.remove('hide');
}

tabBtn.forEach((item,idx) => {
    item.addEventListener('click', ()=>{
        contentShow(idx);
        tabSlideShow(idx);
    })
});
let tabSlide = document.querySelector('.tab_slide');
let tabBtnFirst = document.querySelector('.tab_btn:first-child');
const newWidth = tabBtnFirst.offsetWidth;
tabSlide.style.width = newWidth + 'px';

</script>

</body>
</html>
