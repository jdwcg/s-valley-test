<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ex</title>
  <style>

    .body {background: #f8f8f8; margin: 0;}
    .gnb_btn_wrap, .lnb_btn_wrap, .tab_btn_wrap {display: flex;}

    .nav_contain {
      position: fixed;
      z-index: 2;
    }
    .tab_btn_wrap {
      position: fixed;
    }
    .slidingTab {position: absolute; z-index: -1; left:0; height: 10px; background: tan; transition: all .3s ease;}

    .lnb_btn_wrap {
      background: white;
    }
    .gnb_btn, .lnb_btn, .tab_btn {padding: .5rem;}
    .lnb_btn_wrap {border: 1px solid tan; max-height: 0; overflow:hidden; transition: all .3s ease;}
    .hide {display: none;}
    .show {display: block;}
  </style>
</head>
<body class="body">

  <!-- Lorem ipsum dolor sit amet. -->
  <nav class="nav_contain">
    <div class="gnb_btn_wrap">
      <div class="gnb_btn">ipsum</div>
      <div class="gnb_btn">dolor</div>
    </div>
    <div class="lnb_btn_wrap">
      <div class="lnb_btn">sit</div>
      <div class="lnb_btn">amet</div>
    </div>
  </nav>
  <section class="tab_btn_contain">
    <div class="tab_btn_wrap">
      <span class="slidingTab"></span>
      <div class="tab_btn">tabA</div>
      <div class="tab_btn">tabB</div>
    </div>
    <div class="tab_content_wrap">
      <div class="tab_content">Lorem ipsum dolor sit amet.</div>
      <div class="tab_content">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat autem, tempore fuga consectetur nam natus commodi debitis inventore minima sunt sed odit provident esse, amet facere perferendis nisi officiis expedita alias. Explicabo voluptas culpa sequi, perspiciatis fugiat aut accusantium quibusdam dignissimos, aliquam necessitatibus! Quia doloribus libero veritatis cumque maxime laborum ullam. Quaerat harum doloribus nam illum, a explicabo, tenetur minus totam veniam voluptatibus accusantium ducimus asperiores voluptates. Perspiciatis accusantium soluta suscipit, sint porro atque, explicabo modi aliquam molestias, fugit debitis voluptate quibusdam fugiat voluptates quas perferendis quisquam corporis, alias temporibus magni ea aperiam in eligendi. Hic, consequuntur fuga consequatur accusamus molestiae atque sunt adipisci consectetur, nisi quos, ut! Officiis accusantium ad quaerat, hic itaque rem nostrum, dignissimos, quis dolorem totam omnis optio! Dolorem numquam repellendus eius, distinctio sapiente iure vel ducimus repudiandae ut vitae error ad quas excepturi facilis sunt quaerat. Quidem expedita facere quos nisi ad cum animi, esse quas consequuntur tempora dolore nobis aliquid consectetur harum cumque id sed minus. Possimus facilis commodi magni quam error amet modi deleniti quas rerum, eos nostrum, nemo in quaerat, perspiciatis voluptate exercitationem neque voluptas ratione! Quo nemo quibusdam sunt enim! Dolorem in doloribus esse tenetur maiores atque ducimus aperiam distinctio tempora. Quibusdam veniam fugiat aliquid rem perspiciatis amet ducimus laborum non iusto. Obcaecati fugiat ea cum vitae labore laudantium rerum dignissimos qui tenetur voluptatem facere in nobis dolorum, corrupti aliquid, expedita quisquam itaque beatae. Obcaecati error facilis, distinctio doloremque repudiandae explicabo sint molestias deleniti consectetur sunt! A consectetur officiis, ut deserunt perferendis impedit, quia, natus tenetur voluptate eum consequuntur dignissimos! Quasi maiores repellat consequatur nobis quis hic, voluptas amet assumenda soluta unde culpa ducimus fugit voluptatum, vero excepturi impedit et illo consectetur, ipsa quo qui illum pariatur voluptatibus optio! Consequatur dolore earum totam reiciendis molestiae dolorem minima mollitia voluptate sunt repellendus ab atque, expedita aspernatur, eos corrupti odit hic vel iste suscipit quis non. Quae delectus recusandae, enim nobis maxime eius incidunt a quidem quis voluptas, libero illum, suscipit ratione repudiandae. Commodi provident possimus quas eos, rem, ipsam ducimus minima obcaecati sit dignissimos, odio aspernatur error perspiciatis aut eum. Doloribus debitis porro harum amet voluptate rem, quos laborum natus fuga beatae autem laudantium repudiandae cupiditate reiciendis similique, fugiat ea, numquam necessitatibus. Suscipit distinctio et rem delectus nulla debitis quaerat assumenda. Blanditiis ipsam quos accusantium numquam culpa! Voluptatibus dolores eius, consectetur ducimus? Ea, dicta, molestiae ullam tempore dolorem vitae at nesciunt temporibus aspernatur est dolorum, illum provident pariatur. Delectus dolorem quo a numquam libero consequuntur voluptate ratione, quae laudantium reiciendis tempora cumque explicabo voluptatem perspiciatis eligendi deserunt totam eius incidunt alias impedit, officia facere vero reprehenderit, esse! Ad modi rerum quo perspiciatis nesciunt perferendis quas sequi sit impedit commodi! Praesentium, dolorem asperiores ipsam illo voluptate laudantium at labore optio officia nisi corporis ex delectus reiciendis neque omnis quisquam quia perspiciatis consequatur unde temporibus nam rem est doloribus quas! Velit eveniet praesentium laudantium mollitia sequi, saepe ad minima placeat amet possimus architecto. Laborum deleniti, voluptatibus eos vero omnis nisi rem repellat alias odio ipsum nostrum, repellendus dicta culpa tenetur, aliquid consectetur. Nihil consequatur quibusdam distinctio, labore ex praesentium accusantium quaerat iste vel! Tempore ducimus praesentium aut pariatur esse distinctio, in, cumque, molestiae excepturi dicta sint nulla ullam inventore vel commodi nemo accusantium earum. Nulla alias nostrum commodi, numquam quisquam. Reprehenderit placeat, totam reiciendis porro quisquam cumque ut sapiente animi! Incidunt consequatur temporibus perspiciatis veniam aperiam, totam fugit animi fugiat voluptates sapiente id nemo unde quis molestias expedita voluptate numquam cum, quas laborum! Magnam voluptatum, sapiente repudiandae nisi nemo velit pariatur maiores repellat qui soluta in, ullam numquam asperiores laudantium corporis? Ab harum totam dicta ad molestias sed eius et quod quidem aperiam unde dolores praesentium odit assumenda, ducimus possimus laudantium laborum ex! Eligendi nostrum, perspiciatis illo voluptatem! Reiciendis doloribus, deleniti sunt. Quibusdam aperiam sunt eligendi ab rem autem id mollitia tempora doloremque ipsum, unde, officiis eum blanditiis dolorem odit, natus deserunt ex assumenda adipisci, tempore praesentium quasi laudantium! Laudantium pariatur nisi ratione obcaecati dolore, odio, magni ipsam autem repellendus officiis assumenda facilis doloribus placeat, harum itaque vero? Perferendis placeat velit dignissimos vero quod esse alias quisquam quidem minima ipsa at ad id nulla quibusdam culpa dolores, nostrum consequatur neque dolorem laudantium repellat recusandae! Nemo, saepe eveniet. Error placeat itaque aperiam, modi ducimus nisi cumque ipsam nulla aspernatur dicta aliquid repellendus nam doloribus porro obcaecati hic soluta consectetur, a repellat voluptas debitis! Culpa, provident quam aliquam laudantium eaque voluptate quaerat ut dolores architecto omnis. Corporis, autem ipsa! Voluptate obcaecati, officia id blanditiis provident, assumenda tempora commodi nisi eveniet at fugiat culpa veritatis sit quod nobis consequatur nemo vero deleniti? Quidem facilis eos, odio molestias veniam laboriosam veritatis. Ipsa saepe reprehenderit iste nobis animi tempora inventore, enim libero aspernatur maxime, esse optio totam earum? Recusandae, voluptate? At, voluptatum ad sed, beatae suscipit facilis. Vitae, similique!
      </div>
    </div>
  </section>

  <div>sdfd</div>


  <script>
    // let lnbBtn = document.querySelectorAll('.lnb_btn');
    let navContain = document.querySelectorAll('.nav_contain');
    let lnbBtnWrap = document.querySelector('.lnb_btn_wrap');
    function lnbShow() {
      lnbBtnWrap.style.maxHeight ?
      lnbBtnWrap.style.maxHeight = null :
      lnbBtnWrap.style.maxHeight = lnbBtnWrap.scrollHeight +'px';
    }
    for(let i=0; i<navContain.length; i++) {
      navContain[i].addEventListener('mouseover', lnbShow);
      navContain[i].addEventListener('mouseout', lnbShow);
    }

    let tabBtn = document.querySelectorAll('.tab_btn');
    let tabContent = document.querySelectorAll('.tab_content');
    let slidingTab = document.querySelector('.slidingTab');
    function contShow(num) {
      tabContent.forEach((item, idx) => {
        item.classList.add('hide');
      });
      tabContent[num].classList.remove('hide');
    }
    contShow(0);
    function slidingTabActive(num) {
      const newLeft = tabBtn[num].offsetLeft;
      const newWidth = tabBtn[num].offsetWidth;
      slidingTab.style.left = newLeft + 'px';
      slidingTab.style.width = newWidth + 'px';
    }
    tabBtn.forEach((item, idx) => {
      item.addEventListener('click', event =>{
        event.preventDefault();
        contShow(idx);
        slidingTabActive(idx);
      })
    });

    let tabBtnFirst = document.querySelector('.tab_btn');
    let newWidth = tabBtn[0].offsetWidth;
    let newHeight = tabBtn[0].offsetHeight;
    slidingTab.style.width = newWidth + 'px';
    slidingTab.style.height = newHeight + 'px';

    // console.log(tabBtnFirst.style.background = "red")

    // 상단 fixed 빈공간 채우기
    let gnbBtnWrap =document.querySelector('.gnb_btn_wrap');
    let tabBtnContain =document.querySelector('.tab_btn_contain');
    let tabBtnWrap =document.querySelector('.tab_btn_wrap');
    let tabContentWrap =document.querySelector('.tab_content_wrap');
    let gnbBtnWrapHeigh = gnbBtnWrap.offsetHeight;
    let tabBtnWrapHeigh = tabBtnWrap.offsetHeight;
    tabBtnContain.style.paddingTop = gnbBtnWrapHeigh + "px";
    tabContentWrap.style.paddingTop = tabBtnWrapHeigh + "px";


window.addEventListener('scroll', ()=>{
  let navContain = document.querySelector('.nav_contain');
  let tabBtnWrap =document.querySelector('.tab_btn_wrap');
  if(window.pageYOffset > 50) {
    navContain.classList.add('hide');
    tabBtnContain.style.paddingTop = 0;
    tabBtnWrap.style.background = 'white';
  } else  {
    console.log('test');
    navContain.classList.remove('hide');
    tabBtnContain.style.paddingTop = gnbBtnWrapHeigh + "px";
  }
})

  </script>
</body>
</html>
